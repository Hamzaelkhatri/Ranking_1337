(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[268],{4564:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboard",function(){return n(6277)}])},6277:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(5893),l=n(7294),i=(n(7083),n(5213)),a=n(6713),o=n(1889),s=n(1163),c=n.n(s),u=n(9994),d=n(3581),f=n(1511),g=n(9669),h=n.n(g);function y(){var e=(0,l.useState)([]),t=e[0],n=e[1],i=(0,l.useState)([]),o=i[0];i[1];return(0,l.useEffect)((function(){0===t.length&&h().get("https://api.intra.42.fr/v2/cursus/21/cursus_users?filter[campus_id]=16&filtre[created_at]=2020-11-11T09:57:18.084Z&filter[campus_id]=16&range[begin_at]=2019-10-16T00:00:00.000Z,2019-10-17T00:00:00.000Z&per_page=100&page=1",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n(e.data)})).then((function(e){})).catch((function(e){localStorage.removeItem("token"),c().push("http://localhost:3000/login/42")}))}),[t]),(0,l.useEffect)((function(){n(t.sort((function(e,t){return e.level<t.level?1:e.level>t.level?-1:0})));var e=1;t.length>0&&0===o.length&&(t.forEach((function(t){o.push({img:t.user.image_url,name:t.user.displayname,level:t.level,rank:e}),e++})),console.log(o))}),[t]),(0,r.jsx)(u.ZP,{grid:{gutter:16,xs:1,sm:2,md:4,lg:4,xl:6,xxl:3},dataSource:o,loading:0===o.length,renderItem:function(e){var t;return(0,r.jsx)(u.ZP.Item,{children:(0,r.jsx)(d.Z,{title:(0,r.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",textAlign:"center"},children:null===(t=e.rank)||void 0===t?void 0:t.toString()}),cover:(0,r.jsx)(f.Z,{shape:"square",size:100,style:{backgroundColor:"red",flex:1,margin:"auto",display:"flex",justifyContent:"center",alignItems:"center"},src:e.img}),children:(0,r.jsxs)(a.Z,{direction:"vertical",children:[(0,r.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",textAlign:"center"},children:e.name}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",textAlign:"center"},children:e.level})]})})})}})}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,i=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){o=!0,l=s}finally{try{a||null==n.return||n.return()}finally{if(o)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=i.Z.Header,x=i.Z.Content,j=i.Z.Footer;function _(){var e=(0,s.useRouter)(),t=m(l.useState(!0),2),n=t[0],c=t[1];return(0,l.useEffect)((function(){e.isReady&&(console.log("Router.query.access_token",e),void 0===e.query.access_token&&null===localStorage.getItem("token")&&e.push("/login"),null===localStorage.getItem("token")&&(c(!0),localStorage.setItem("token",e.query.access_token+"")))}),[e.isReady]),(0,r.jsx)("div",{children:(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(v,{style:{position:"fixed",zIndex:1,width:"100%"},children:[(0,r.jsx)("div",{className:"logo"}),(0,r.jsx)(a.Z,{children:(0,r.jsx)(o.Z,{type:"primary",shape:"round",size:"large",onClick:function(){n?e.push("/login"):e.push("/logout"),localStorage.removeItem("token")},children:!0===n?"Disconnect":"Login with 42"})})]}),(0,r.jsx)(x,{className:"site-layout",style:{padding:"0 50px",marginTop:64},children:(0,r.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:380},children:(0,r.jsx)(y,{})})}),(0,r.jsx)(j,{style:{textAlign:"center"},children:"Ranking 2022 create by Hamza Elkhatri"})]})})}}},function(e){e.O(0,[386,307,167,774,888,179],(function(){return t=4564,e(e.s=t);var t}));var t=e.O();_N_E=t}]);